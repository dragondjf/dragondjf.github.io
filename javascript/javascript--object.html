<!DOCTYPE html>
<html lang="zh_cn">
<head>
    <meta charset="utf-8">
    <title>保持一颗激情的心</title>
    <meta name="description" content="">
    <meta name="author" content="dragondjf">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="../theme/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="../static/images/favicon.png">
    <!-- Le styles -->
    <link href="../theme/bootstrap.min.css" rel="stylesheet">
    <link href="../theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="../theme/local.css" rel="stylesheet">
    <!-- <link href="../theme/pygments.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="..">保持一颗激情的心</a>

        <div class="nav-collapse">
        <ul class="nav">
            <li><a href="http://qt.qframer.com">QFramer</a></li>
            <li><a href="https://github.com/dragondjf/QMarkdowner">QMarkdowner</a></li>
            <li><a href="https://github.com/dragondjf/QSetuper">QSetuper</a></li>
            <li><a href="http://setup.qframer.com/">Cloud Setuper</a></li>
            
            <li><a href="../about.html">About</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container" id="CenterContainer">
    <div class="content">
    <div class="row">

        <div class="span9">
    <div class='article'>
        <div class="content-title">
            <h1>javascript 对象探索之 构造对象、原型对象 和 实例对象</h1>
2014-09-30 13:38:00

by <a class="url fn" href="../author/dragondjf.html">dragondjf</a>
 


        </div>
	
        <div><h4>1.什么是构造对象？</h4>
<div class="highlight"><pre>    <span class="kd">function</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">z</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p>这样【<code>Point</code>】就是一个构造对象， <code>可以实例化</code>；</p>
<p><strong>构造对象实际上就是构造函数， 构造函数与普通函数没有本质区别，但是构造函数拥有this关键字，并且只能够使用new运算符来调用函数。</strong></p>
<p><strong>从本质上来讲，构造对象就是类；</strong></p>
<p>构造对象同样拥有属性和方法，他们都是全局变量，只能被构造对象本身调用，无法被实例对象调用。</p>
<h4>2. 什么是实例对象？</h4>
<div class="highlight"><pre>    <span class="n">var</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
    <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">constructor</span> <span class="o">==</span> <span class="n">Point</span><span class="p">)</span> <span class="c1">// true</span>
</pre></div>


<p>这样【<code>p1</code>】就是Point类的实例化对象， <code>实例化对象不能继续实例化</code></p>
<p>实例对象是通过构造函数创建的。</p>
<p><strong>当使用构造函数创建实例对象之后，每个对象之间都是独立的个体，就不再与构造对象保持关系。</strong></p>
<h4>3. 什么是原型对象?</h4>
<p>拓展原型对象的两种写法：</p>
<div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;dsdsds&quot;</span>
    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p>或者是   </p>
<div class="highlight"><pre>    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;dsdsds&quot;</span>
    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span>
     <span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
</pre></div>


<p>这两种写法没有本质区别，拓展原型对象在生成实例前后一样。</p>
<p><strong>Point.prototype 就是原型对象，javascript中所有函数都有prototype属性，它引用了一个对象，这个对象就是原型对象；</strong>
<strong>原型对象初始化时为空，但是当你在其中定义的任何属性和方法都会被构造函数所创建的实例对象继承。</strong></p>
<p><code>实际上， 原型对象也是构造函数的一个实例对象；与普通的实例对象没有本质区别，只是它比较特殊而已，</code>
<code>原型对象的所有属性和方法能够为构造函数的所有实例共享，这就是其他语言的类继承，在javascript中简称【原型继承】</code></p>
<div class="highlight"><pre>  <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">constructor</span> <span class="o">==</span> <span class="n">Point</span><span class="p">)</span> <span class="c1">//ture</span>
  <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">(</span><span class="n">Point</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="n">constructor</span> <span class="o">==</span> <span class="n">Point</span><span class="p">)</span> <span class="c1">//true</span>
</pre></div>


<p>说明原型对象与实例对象都是通过同一个构造函数实例化的一个对象</p>
<p>重写原型对象：  </p>
<div class="highlight"><pre>    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;yuanxiangduixiang&quot;</span><span class="p">,</span>
        <span class="nx">sum</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nx">Point</span><span class="p">)</span> <span class="c1">// false</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">)</span> <span class="c1">// true</span>
</pre></div>


<p>这种写法表示重写了Point.prototype原型对象，这样原型对象不再由Point构建，而是由Object构建</p>
<p>下面这种写法是错误的：</p>
<div class="highlight"><pre>    <span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
    <span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;yuanxiangduixiang&quot;</span><span class="p">,</span>
            <span class="nx">sum</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="c1">//报错</span>
</pre></div>


<h4>4. 总结</h4>
<ul>
<li><strong>构建对象</strong>  是<strong>构造函数</strong>；</li>
<li><strong>实例对象</strong>  是由构造函数使用<strong>new</strong>关键字构建的实例化对象；</li>
<li><strong>原型对象</strong>  默认也是由构造函数构建的实例化对象，<strong>只是原型对象的所有属性和方法被构造函数的其他实例对象所共享</strong>；   </li>
</ul>
<p>demo:     </p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">z</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nx">Point</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nx">Point</span><span class="p">);</span> <span class="c1">//true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">p1</span><span class="p">));</span> <span class="c1">// true</span>
</pre></div></div>
	
        <hr>

        <h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dragondjf'; 
    var disqus_title = 'javascript 对象探索之 构造对象、原型对象 和 实例对象';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="../archives.html">Archives</a>
                <li><a href="../tags.html">Tags</a>
                <li><a href="./" rel="alternate">Atom feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="../category/aauto.html">aauto(1)</a></li>
                <li><a href="../category/c.html">c++(1)</a></li>
                <li><a href="../category/cloudsetuper.html">cloudsetuper(1)</a></li>
                <li><a href="../category/javascript.html">javascript(4)</a></li>
                <li><a href="../category/linux.html">linux(1)</a></li>
                <li><a href="../category/lua.html">lua(1)</a></li>
                <li><a href="../category/node-webkit.html">node-webkit(1)</a></li>
                <li><a href="../category/pyqtpyside.html">PyQt/PySide(1)</a></li>
                <li><a href="../category/python.html">Python(4)</a></li>
                <li><a href="../category/qframer.html">QFramer(2)</a></li>
                <li><a href="../category/qsetuper.html">QSetuper(1)</a></li>
                <li><a href="../category/qt.html">Qt(2)</a></li>
                <li><a href="../category/xue-xi-ji-hua.html">学习计划(1)</a></li></ul>
            </div> <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="https://github.com/dragondjf">Github</a></li>
                <li><a href="http://www.ruanyifeng.com/blog/">阮一峰</a></li>
                <li><a href="http://www.bogotobogo.com/">K Hong</a></li>
                <li><a href="http://www.zouyesheng.com/">邹业盛</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="http://wen.lu/">Google</a></li>
                <li><a href="http://code.taobao.org/">taocode</a></li>
                <li><a href="http://fex.baidu.com/">百度FEX</a></li>
                <li><a href="http://efe.baidu.com/">百度EFE</a></li>
                <li><a href="http://www.alloyteam.com/">腾讯AlloyTeam</a></li>
                <li><a href="http://tympanus.net/codrops/">codrops</a></li>
                <li><a href="http://ui-cloud.com/">ui-cloud</a></li>
                <li><a href="http://www.easyicon.net/">easyicon</a></li>
                <li><a href="http://www.programiz.com/">programiz</a></li>
                <li><a href="http://javascript.ruanyifeng.com/">JavaScript 标准参考教程</a></li>
                <li><a href="http://codegeekz.com/">codegeekz</a></li>
                <li><a href="http://v2ex.com/">v2ex社区</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="..">保持一颗激情的心</a> &copy; dragondjf 2014</p>
</footer>

</div> <!-- /container -->
<script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<a href="https://github.com/dragondjf">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github-camo.global.ssl.fastly.net/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" />
</a>
 
</body>
<script>
    $(document).ready(function() {
      $('pre').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });
</script>
</html>